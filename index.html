<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Whack A Boss</title>
</head>
<body>
    <div id = "body-container">
        <div id = "input-container">
            <div id = "weapon-input-container">
                <input id = "input" onInput = "setWeaponName(event)">
            </div>
            <div id = "boss-input-container">
                <input id = "input" onInput = "setBossName(event)">
                <button onclick= "generateBossInfo()">find Boss</button>
            </div>
        </div>
        <div id = "bossInfo">

        </div>
        <img id = "bossPic">

        <div id = "wepInfo">

        </div>
        <img id = "wepPic">

    </div>
    <script>
        let weaponInfo = {};
        let bossInfo = {};

        let bossName = "";
        let wepName = "";

        function setBossName(event = new Event()){
            bossName = event.target.value;
        }

        function setWeaponName(event = new Event()){
            wepName = event.target.value;
        }
        async function generateBossInfo(){
            const httpResponseBoss = await fetch("https://eldenring.fanapis.com/api/bosses?name=" + bossName);
            bossInfo = await httpResponseBoss.json();

            const httpResponseWeapon = await fetch("https://eldenring.fanapis.com/api/weapons?name=" + wepName);
            weaponInfo = await httpResponseWeapon.json();
            console.log(bossInfo)
            console.log(weaponInfo)
            renderBossInfo();
        }

        function renderBossInfo(){
            const bossname = bossInfo.data[0].name
            const bosspicture = bossInfo.data[0].image
            const healthPoints = bossInfo.data[0].healthPoints

            const weaponname = weaponInfo.data[0].name
            const weaponpicture = weaponInfo.data[0].image
            const damage = weaponInfo.data[0].attack[0].amount;

            const bossInfoDiv = document.getElementById("bossInfo");
            const bossImageDiv = document.getElementById("bossPic");
            
            const wepInfoDiv = document.getElementById("wepInfo");
            const wepImageDiv = document.getElementById("wepPic");

            bossInfoDiv.append(bossname);
            bossImageDiv.setAttribute("src", bosspicture);
            bossInfoDiv.append(healthPoints);

            wepInfoDiv.append(weaponname);
            wepImageDiv.setAttribute("src", weaponpicture);
            wepInfoDiv.append(damage);


        }
    </script>
</body>
</html>